{% extends "page/base.html" %}

{% block content %}
    <!-- ã‚«ã‚¹ã‚¿ãƒ CSSã‚’è¿½åŠ  -->
    <style>
        a {
            color: inherit; /* è¦ªè¦ç´ ã®è‰²ã‚’ç¶™æ‰¿ã—ã¦é’è‰²ã‚’æ¶ˆã™ */
            text-decoration: none; /* ä¸‹ç·šã‚’æ¶ˆã™ */
        }

        a:hover {
            color: #ff5722; /* ãƒ›ãƒãƒ¼æ™‚ã«ã‚ªãƒ¬ãƒ³ã‚¸è‰²ã«å¤‰æ›´ï¼ˆä¾‹ï¼‰ */
            text-decoration: underline; /* ãƒ›ãƒãƒ¼æ™‚ã«ä¸‹ç·šã‚’è¿½åŠ  */
        }
        .first-place {
            background-color: gold;
            font-weight: bold;
            color: black;
        }

        .second-place {
            background-color: silver;
            font-weight: bold;
            color: black;
        }

        .third-place {
            background-color: #cd7f32; /* ãƒ–ãƒ­ãƒ³ã‚º */
            font-weight: bold;
            color: white;
        }

        .podium {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            margin: 50px;
            gap: 50px;
        }

        .first, .second, .third {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .first {
            height: 250px;
            transform: translateY(-30px);
        }

        .second {
            height: 200px;
            transform: translateY(-20px);
        }

        .third {
            height: 150px;
            transform: translateY(-10px);
        }

        /* æ–°ã—ã„å††ã®ãƒ‡ã‚¶ã‚¤ãƒ³ - å¹…ã¨é«˜ã•ã‚’å›ºå®šã—ã¦æ­£å††ã« */
        .circle {
            width: 150px;  /* å¹…ã¨é«˜ã•ã‚’åŒã˜ã«è¨­å®š */
            height: 150px;
            border-radius: 50%;
            background: linear-gradient(145deg, #e6e6e6, #ffffff);
            box-shadow: 5px 5px 10px #d1d1d1, -5px -5px 10px #ffffff;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }

        .circle:hover {
            transform: scale(1.1);
            box-shadow: 5px 5px 15px #c1c1c1, -5px -5px 15px #ffffff;
        }

        /* ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
        .nickname {
            font-size: 22px;
            font-weight: bold;
            font-family: 'Raleway', sans-serif;
            color: #333;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            margin: 0;
        }

        /* é †ä½è¡¨ç¤ºã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .place {
            font-size: 36px;
            font-weight: bold;
            color: #333;
            margin-top: 10px;
        }

        .first .place {
            color: #FFD700;
        }

        .second .place {
            color: #C0C0C0;

        }

        .third .place {
            color: #CD7F32;
        }

        /* ãƒ¡ãƒ‡ã‚£ã‚¢ã‚¯ã‚¨ãƒª - ç”»é¢å¹…ãŒ600pxä»¥ä¸‹ã®ã‚¹ãƒãƒ›ã§ã¯è¡¨ç¤ºã—ãªã„ */
        @media screen and (max-width: 600px) {
            .podium {
                display: none;
            }
        }




    </style>

    <!-- å¤§ããã€Œå¾—ç‚¹è¡¨ã€ã¨è¡¨ç¤º -->
    <h1 class="title is-2 has-text-centered">å¾—ç‚¹è¡¨</h1>

    <div class="podium">
        <div class="second">
            <div class="circle">
                <p class="nickname">{{ second_place.nickname }}</p>
            </div>
            <p class="place">2ä½</p>
        </div>
        <div class="first">
            <div class="circle">
                <p class="nickname">{{ first_place.nickname }}</p>
            </div>
            <p class="place">1ä½</p>
        </div>
        <div class="third">
            <div class="circle">
                <p class="nickname">{{ third_place.nickname }}</p>
            </div>
            <p class="place">3ä½</p>
        </div>
    </div>

    <!-- è¡¨ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
    <div class="table-container" style="max-height: 450px; overflow-y: auto;">
        <table class="table is-striped is-hoverable is-fullwidth">
            <thead>
                <tr>
                    <th>é †ä½</th>
                    <th>ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ </th>
                    <th>å¾—ç‚¹</th>
                </tr>
            </thead>
            <tbody>
                {% for participant in participants %}
                <tr class="
                {% if forloop.counter == 1 %}
                    first-place
                {% elif forloop.counter == 2 %}
                    second-place
                {% elif forloop.counter == 3 %}
                    third-place
                {% endif %}
            ">
                    <td>
                        {% if forloop.counter == 1 %}
                            ğŸ† 1ä½
                        {% elif forloop.counter == 2 %}
                            ğŸ¥ˆ 2ä½
                        {% elif forloop.counter == 3 %}
                            ğŸ¥‰ 3ä½
                        {% else %}
                            {{ forloop.counter }}ä½
                        {% endif %}
                    </td>
                    <td>{{ participant.nickname }}</td>
                    <td>{{ participant.score }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="has-text-centered mt-5">
        <a href="{% url 'score_table' %}" class="button is-link is-light is-medium">
            ã‚‚ã£ã¨ã¿ã‚‹
        </a>
    </div>
    <hr>

    <!-- ã‚³ãƒ¡ãƒ³ãƒˆè¡¨ç¤ºã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <h2 class="title is-4">æŠ•ç¨¿ã•ã‚ŒãŸã‚³ãƒ¡ãƒ³ãƒˆ</h2>
    <div class="box">

        <div style="max-height: 450px; overflow-y: auto;">
            {% for post in posts %}
            <article class="media">
                <figure class="media-left">
                    <p class="image is-64x64">
                        <img src="https://kotonohaworks.com/free-icons/wp-content/uploads/kkrn_icon_user_1.png">
                    </p>
                </figure>
                <div class="media-content">
                    <div class="content">
                        <a href="{% url 'post_detail' post.slug %}">
                            <p>
                                <small>{{ post.posted_date }}</small>
                                <br>
                                {{ post.comment }}
                            </p>
                        </a>
                    </div>
                </div>
            </article>
            <hr>
            {% endfor %}
        </div>
        
        <div class="box">
            <form method="POST">
                {% csrf_token %}
                <div>
                    <label for="{{ form.comment.id_for_label }}">ã‚³ãƒ¡ãƒ³ãƒˆ</label>
                    {{ form.comment }}
                </div>
                <div class="field is-grouped is-grouped-right">
                    <div class="control">
                        <button class="button is-link" type="submit">é€ä¿¡</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
{%endblock%}
