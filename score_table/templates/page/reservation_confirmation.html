{% extends "page/base.html" %}

{% block content %}
<section class="section">
    <div class="container">
        <div class="box">
            <h1 class="title">予約確認</h1>
            <h2 class="subtitle">あなたの予約番号は:</h2>
            <div class="notification is-primary">
                <strong>{{ reservation.reservation_number }}</strong>
            </div>
            <p>あなたの前に <strong>{{ ahead_of_you }}</strong> 人の予約があります。</p>
            <p>約<strong>{{ waiting_time }}</strong> 分後にまたお越しください。</p>
            <p>予約は前後する場合がございます。</p>
            {% if ahead_of_you < 4%}
            {% if reservation.is_not_there == True %}
            <h1 class="subtitle"><strong>予約時間が過ぎています。お早めににお越しください</strong></h1>
            {% endif %}
            {% if reservation.is_not_there == False %}
            <h1 class="subtitle"><strong>もうすぐでお呼び出しです。受付までお越しください</strong></h1>
            {% endif %}
            {% endif %}
        </div>

        <div class="box">
            <h1 class="title">予約削除</h1>
            <form method="post" action="{% url 'delete_reservation' reservation.reservation_number %}" style="display:inline;">
                {% csrf_token %}
                <button type="submit" class="button is-danger" onclick="return confirm('本当にこの予約を削除しますか？');">削除</button>
            </form>
        </div>
    </div>
</section>

{%endblock%}